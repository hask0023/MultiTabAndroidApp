/*! Midterm App - v2.0 - 2015-11-16
* Copyright (c) 2015 Steve Haskins; Licensed  */
angular.module("starter",["ionic","starter.controllers","ngCordova","LocalStorageModule"]).run(function(a){a.ready(function(){window.cordova&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),cordova.plugins.Keyboard.disableScroll(!0)),window.StatusBar&&StatusBar.styleDefault()})}).config(function(a,b){a.state("app",{url:"/app","abstract":!0,templateUrl:"templates/menu.html"}).state("app.settings",{url:"/settings",views:{menuContent:{templateUrl:"templates/settings.html",controller:"SettingsCtrl"}}}).state("app.list",{url:"/list/:listID",views:{menuContent:{templateUrl:"templates/list.html",controller:"ListCtrl"}}}),b.otherwise("/app/list/1")}),angular.module("starter.controllers",[]).controller("ListCtrl",function(a,b,c,d,e,f){if(b.isSupported){var g=c.listID,h=b.get(g)||[];a.taskList=h,a.localList={},a.addTask=function(){a.taskName&&(a.taskList.push({name:a.taskName,completed:!1}),a.taskName="",b.set(g,a.taskList))},a.deleteTask=function(c){a.taskList.splice(c,1),b.set(g,a.taskList)},a.updateCompletion=function(){var c=b.get("Notifications")||[],f=b.get("Vibration")||[];a.notifyStatus=c,a.vibrateStatus=f,b.set(g,a.taskList);var h=e("filter")(a.taskList,function(a){return a.completed}).length;a.taskList.length==h&&c.checked&&i(),f.checked&&d.vibrate(100)};var i=function(){f.schedule({id:1,title:"List Complete!",text:"You have completed all items on this list!"})}}b.isSupported||console.log("local storage not supported")}).controller("SettingsCtrl",function(a,b,c){if(b.isSupported){var d=b.get("Notifications")||[],e=b.get("Vibration")||[];a.notifyStatus=d,a.vibrateStatus=e,a.notificationChange=function(){var c={checked:a.notifyStatus.checked};b.set("Notifications",c)},a.vibrationChange=function(){var c={checked:a.vibrateStatus.checked};b.set("Vibration",c)}}});